# N8n MCP Server - Example Workflows

This file contains example N8n workflows that can be generated by the N8n MCP server.

## Example 1: Basic HTTP Data Processing Workflow

### Request
```
Generate an N8n workflow that fetches data from a REST API, processes it with JavaScript, and stores the results in a variable.
```

### Generated Workflow JSON

```json
{
  "name": "API Data Processing Workflow",
  "nodes": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 300],
      "parameters": {},
      "webhookId": "6ba7b810-9dad-11d1-80b4-00c04fd430c8"
    },
    {
      "id": "6ba7b811-9dad-11d1-80b4-00c04fd430c8",
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 300],
      "parameters": {
        "url": "https://api.example.com/data",
        "options": {}
      }
    },
    {
      "id": "6ba7b812-9dad-11d1-80b4-00c04fd430c8",
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300],
      "parameters": {
        "jsCode": "// Process the API response\nconst data = $input.all();\nconst processedData = data.map(item => ({\n  id: item.json.id,\n  name: item.json.name,\n  processed_at: new Date().toISOString()\n}));\n\nreturn processedData;"
      }
    },
    {
      "id": "6ba7b813-9dad-11d1-80b4-00c04fd430c8",
      "name": "Set",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [900, 300],
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "processed_data",
              "name": "processed_data",
              "value": "={{ $json }}",
              "type": "object"
            }
          ]
        },
        "options": {}
      }
    }
  ],
  "connections": {
    "0": {
      "main": [
        [
          {
            "node": 1,
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1": {
      "main": [
        [
          {
            "node": 2,
            "type": "main", 
            "index": 0
          }
        ]
      ]
    },
    "2": {
      "main": [
        [
          {
            "node": 3,
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "createdAt": "2025-01-23T10:00:00.000Z",
  "updatedAt": "2025-01-23T10:00:00.000Z",
  "id": "550e8400-e29b-41d4-a716-446655440001",
  "tags": []
}
```

## Example 2: Scheduled Data Synchronization

### Request
```
Create a workflow using the "scheduled-data-sync" template that runs daily at 9 AM and syncs sales data from an API to Google Sheets.
```

### Generated Workflow JSON

```json
{
  "name": "Daily Sales Data Sync",
  "nodes": [
    {
      "id": "schedule-001",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [240, 300],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 9 * * 1-5"
            }
          ]
        }
      }
    },
    {
      "id": "http-001",
      "name": "Fetch Sales Data",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 300],
      "parameters": {
        "url": "https://api.company.com/sales/daily",
        "authentication": "genericCredentialType",
        "options": {
          "headers": {
            "Authorization": "Bearer {{ $credentials.api_token }}"
          }
        }
      }
    },
    {
      "id": "if-001",
      "name": "Check Data Quality",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [680, 300],
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "={{ $json.data.length }}",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "leftValue": "={{ $json.data.length }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ]
        }
      }
    },
    {
      "id": "sheets-001",
      "name": "Update Sales Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [900, 300],
      "parameters": {
        "operation": "append",
        "resource": "spreadsheet",
        "documentId": "1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",
        "sheetName": "Sales Data",
        "columns": {
          "mappingMode": "defineBelow",
          "values": [
            {
              "column": "Date",
              "value": "={{ $now.format('yyyy-MM-dd') }}"
            },
            {
              "column": "Revenue",
              "value": "={{ $json.data.total_revenue }}"
            },
            {
              "column": "Orders",
              "value": "={{ $json.data.order_count }}"
            }
          ]
        }
      }
    }
  ],
  "connections": {
    "0": {
      "main": [
        [
          {
            "node": 1,
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1": {
      "main": [
        [
          {
            "node": 2,
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2": {
      "main": [
        [
          {
            "node": 3,
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "createdAt": "2025-01-23T10:00:00.000Z",
  "updatedAt": "2025-01-23T10:00:00.000Z",
  "id": "schedule-workflow-001",
  "tags": ["automation", "sales", "daily"]
}
```

## Example 3: Webhook to Notification System

### Request
```
Create a webhook workflow that receives order data, validates it, and sends notifications to Slack for successful orders and email alerts for failed validations.
```

### Generated Workflow JSON

```json
{
  "name": "Order Notification System",
  "nodes": [
    {
      "id": "webhook-001",
      "name": "Order Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300],
      "parameters": {
        "path": "order-webhook",
        "options": {
          "responseMode": "responseNode"
        }
      },
      "webhookId": "order-webhook-001"
    },
    {
      "id": "code-001",
      "name": "Validate Order",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300],
      "parameters": {
        "jsCode": "// Validate incoming order data\nconst order = $input.first().json;\n\n// Check required fields\nconst requiredFields = ['orderId', 'customerId', 'amount', 'items'];\nconst missingFields = requiredFields.filter(field => !order[field]);\n\nif (missingFields.length > 0) {\n  return [{\n    json: {\n      ...order,\n      validation: {\n        status: 'failed',\n        errors: [`Missing required fields: ${missingFields.join(', ')}`]\n      }\n    }\n  }];\n}\n\n// Validate amount\nif (order.amount <= 0) {\n  return [{\n    json: {\n      ...order,\n      validation: {\n        status: 'failed',\n        errors: ['Order amount must be greater than 0']\n      }\n    }\n  }];\n}\n\n// Validation passed\nreturn [{\n  json: {\n    ...order,\n    validation: {\n      status: 'passed',\n      processedAt: new Date().toISOString()\n    }\n  }\n}];"
      }
    },
    {
      "id": "if-001",
      "name": "Check Validation Result",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [680, 300],
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "={{ $json.validation.status }}",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "leftValue": "={{ $json.validation.status }}",
              "rightValue": "passed",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ]
        }
      }
    },
    {
      "id": "slack-001",
      "name": "Success Notification",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [900, 200],
      "parameters": {
        "operation": "postMessage",
        "resource": "message",
        "channel": "#orders",
        "text": "✅ New order received!\n\nOrder ID: {{ $json.orderId }}\nCustomer: {{ $json.customerId }}\nAmount: ${{ $json.amount }}\nItems: {{ $json.items.length }}\n\nProcessed at: {{ $json.validation.processedAt }}",
        "otherOptions": {
          "username": "Order Bot"
        }
      }
    },
    {
      "id": "gmail-001",
      "name": "Failure Alert",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [900, 400],
      "parameters": {
        "operation": "send",
        "resource": "message",
        "toList": "admin@company.com",
        "subject": "⚠️ Order Validation Failed",
        "body": "An order failed validation:\n\nOrder Data: {{ JSON.stringify($json, null, 2) }}\n\nErrors:\n{{ $json.validation.errors.join('\\n') }}\n\nPlease investigate this issue.",
        "options": {
          "ccList": "tech-team@company.com"
        }
      }
    }
  ],
  "connections": {
    "0": {
      "main": [
        [
          {
            "node": 1,
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1": {
      "main": [
        [
          {
            "node": 2,
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2": {
      "main": [
        [
          {
            "node": 3,
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": 4,
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "createdAt": "2025-01-23T10:00:00.000Z",
  "updatedAt": "2025-01-23T10:00:00.000Z",
  "id": "webhook-notification-001",
  "tags": ["webhook", "notifications", "orders"]
}
```

## Usage Instructions

1. **Copy the JSON**: Copy any of the workflow JSON examples above
2. **Open N8n**: Navigate to your N8n instance
3. **Import**: Click the menu (⋮) and select "Import from JSON"
4. **Paste**: Paste the copied JSON
5. **Configure**: Set up any required credentials (API keys, OAuth tokens, etc.)
6. **Test**: Execute the workflow to ensure it works as expected

## Claude Integration Examples

When using the N8n MCP server with Claude, you can request workflows like:

- "Create an N8n workflow that monitors RSS feeds and posts updates to Slack"
- "Generate a workflow for processing CSV files and sending summary reports via email"
- "Build a workflow that integrates with Shopify to sync order data with Airtable"
- "Create a scheduled workflow that backs up database data to Google Drive daily"

The server will analyze your request and generate appropriate N8n workflow JSON that you can import directly into N8n.
